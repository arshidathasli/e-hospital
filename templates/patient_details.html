{% extends 'doctor_dashboard_base.html' %}

{% block content %}
<div class="container">
    <h2>Patient Details</h2>
    <div class="patient-info">
        <h3>Detailed Information</h3>
        <!-- Add patient detailed information here -->
        <p>Name: {{patient.first_name}} {{patient.second_name}}</p>
        <p>Age: {% if patient.age is not None %}{{ patient.age }}{% else %}Details not added{% endif %}</p>
        <p>Gender: {% if patient.gender is not None %}{{ patient.gender }}{% else %}Details not added{% endif %}</p>
        <p>Contact: {% if patient.phone_number is not None %}{{ patient.phone_number }}{% else %}Details not added{% endif %}</p>
    </div>

    <div class="medical-history">
        <h3>Medical History</h3>
        <table class="table table-bordered">
            <tbody>
            {% for record in medical_records %}
            <tr>
            <td><strong>Diagnoses</strong></td>
            <td>{{ record.diagnoses }}</td>
            </tr>
            <tr>
            <td><strong>Allergies</strong></td>
            <td>{{ record.allergies }}</td>
            </tr>
            <tr>
            <td><strong>Past Surgeries</strong></td>
            <td>{{ record.past_surgeries }}</td>
            </tr>
            <tr>
            <td><strong>Medications</strong></td>
            <td>{{ record.medications }}</td>
            </tr>
            <tr>
            <td><strong>Physical Therapy</strong></td>
            <td>{{ record.physical_therapy }}</td>
            </tr>
            <tr>
            <td><strong>Diet Plan</strong></td>
            <td>{{ record.diet_plan }}</td>
            </tr>
            <tr>
            <td><strong>Date</strong></td>
            <td>{{ record.date }}</td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="actions">
        <a href="e_prescribing/?appointment_id={{ appointment.id }}" class="btn btn-success">E Prescribing</a>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}